C51 COMPILER V9.53.0.0   F330_MAIN                                                         01/22/2019 17:00:49 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE F330_MAIN
OBJECT MODULE PLACED IN F330_main.OBJ
COMPILER INVOKED BY: C:\Program Files (x86)\Keil\C51\BIN\C51.EXE F330_main.c OPTIMIZE(9,SPEED) BROWSE DEBUG OBJECTEXTEND
                    - TABS(2)

line level    source

   1          //-----------------------------------------------------------------------------
   2          // template.c
   3          //-----------------------------------------------------------------------------
   4          // HTBLA Steyr  -  Elektronik und Technische Informatik
   5          // 
   6          // Author:   Felix Hutsteiner
   7          // Version:  1.0
   8          // 
   9          // Changes:  
  10          //          5.2.2014  created     
  11          //
  12          //
  13          // Target:         C8051F330 Silabs
  14          // Tool chain:     Keil µVision 4 
  15          //
  16          // Program Description:
  17          //
  18          //      This program is a template for c51 main modules
  19          //
  20          
  21          
  22          //-----------------------------------------------------------------------------
  23          // Includes
  24          //-----------------------------------------------------------------------------
  25          
  26          #include <C8051F330.h>      // SFR declaration
  27          #include <stdio.h>
  28          
  29          //-----------------------------------------------------------------------------
  30          // Global Constants
  31          //-----------------------------------------------------------------------------
  32          
  33          
  34          //-----------------------------------------------------------------------------
  35          // Global Variables
  36          //-----------------------------------------------------------------------------
  37          
  38          sbit motor_r = P0^0;      // 1: Motoranschluss für Rechtslauf an +UB, 0: ... Masse
  39          sbit motor_l = P0^1;      // 1: Motoranschluss für Linkslauf an +UB, 0: ... Masse
  40          sbit fb_inh = P1^2;       // 1: Motorbrücke aktiviert, 0: Motorbrücke gesperrt
  41          
  42          // Achtung: für Rechtslauf muss motor_l auf 0 sein, und umgekehrt !!!!!!!!!
  43          
  44          
  45          
  46          //-----------------------------------------------------------------------------
  47          // Function Prototypes
  48          //-----------------------------------------------------------------------------
  49          
  50          extern void init_device();
  51          extern void writeSerial(char out);
  52          extern void string_Print(char mystring[]);
  53          
  54          
C51 COMPILER V9.53.0.0   F330_MAIN                                                         01/22/2019 17:00:49 PAGE 2   

  55          char welcome[58] = "Wilkommen beim Motorsteuerungsprogramm von Rene und Luki\n";
  56          
  57          //-----------------------------------------------------------------------------
  58          // main() Routine
  59          //-----------------------------------------------------------------------------
  60          
  61          void main (void) small {
  62   1        
  63   1        PCA0MD &= 0xbf;         // Watchdogtimer abschalten
  64   1      
  65   1        init_device();          // Init laut Config-Tool
  66   1        
  67   1        EA=1;                   //alle interrupts aktivieren
  68   1        ET0=1;                  //enable Timer 0
  69   1        ES0=1;      
  70   1        TR0=1;                  //TimerRunflag setzen um den Timer zu starten
  71   1        TI0=1; //Timer Interrupt aktivieren
  72   1        
  73   1        
  74   1        //fb_inh = 1;
  75   1        //motor_r = 1;
  76   1        //motor_l = 0;
  77   1        
  78   1        string_Print(welcome);
  79   1        
  80   1        while (1) {
  81   2          // main loop code
  82   2         }
  83   1      }
  84          
  85          
  86          //-----------------------------------------------------------------------------
  87          // End Of File
  88          //-----------------------------------------------------------------------------


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     27    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     58    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
